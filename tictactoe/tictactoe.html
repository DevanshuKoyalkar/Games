<!DOCTYPE HTML>
<html>

<head>
	<!-- <link rel="stylesheet" type="text/css" href="css3.css"/> -->
	<title>Two Player Tic-Tac-Toe</title>
	<script type="text/javascript">
	//global varibles
	var painted;
	var content;
	var winningCombinations;
	var theCanvas;
	var boxesFilled=0;

	//instantiating the arrays
	window.onload=function(){
		painted= new Array();
		content= new Array();
		winningCombinations=[[0,1,2],[3,4,5],[6,7,8],[0,4,8],[2,4,6],[0,3,6],[1,4,7],[2,5,8]]
		turn=0;
		for(var i = 0;i <= 8; i++){
			painted[i]=false;
			content[i]='';
		}
	}
	function changeturn(v){
		turn=1;
	}
	function canvasClicked(w){
		theCanvas="canvas"+ w ;
		var c=document.getElementById(theCanvas);
		var ctx = c.getContext("2d");
		ctx.font='50px Georgia';

		if( painted[w-1] == false){
			if(turn%2==0 ){
				ctx.fillText("X",10,40);
				content[w-1]='X';
			}
			else{
				ctx.fillText("O",10,40);				
				content[w-1]='O';
			}
			turn++;
			painted[w-1]=true;
			boxesFilled++;
			checkForWinners(content[w-1]);
			if(boxesFilled==9 && checker(content[w-1])==false){
				alert("It's a draw");
				playAgain();
			}
			}
		else {
				alert("the space is already occupied with your heart");
			}
		}

		function checkForWinners(symbol){
			for(var a=0;a<winningCombinations.length;a++){
				if(content[winningCombinations[a][0]]==symbol &&
					content[winningCombinations[a][1]]==symbol &&
					content[winningCombinations[a][2]]==symbol
					){
					alert("Player "+symbol+"  YOU WON");
					playAgain();
				}
			}
		}
		function checker(symbol){
			var b=false;
			for(var a=0;a<winningCombinations.length;a++){
				if(content[winningCombinations[a][0]]==symbol &&
					content[winningCombinations[a][1]]==symbol &&
					content[winningCombinations[a][2]]==symbol
					){
					b=true;break;
				}
			}
			return b;
		}
		function playAgain(){
			y=confirm("PLAY AGAIN?");
			if(y==true){
				location.reload(true);
			}
			else{
		}
		}
</script>
</head>

<body>
<center>	<h1>Two player tictactoe</h2>
	player 1 choose what you want to start with(default is X)<br>
	<br>
	<input  id="O" type="button" value="Start with O " onclick="changeturn(1);">
	<br><br><br>
<div id="box">

	<canvas id = "canvas1"  width="50" height="50" style="border:1px solid black" onclick="canvasClicked(1)"></canvas>
	<canvas id = "canvas2"  width="50" height="50" style="border:1px solid black" onclick="canvasClicked(2)"></canvas>
	<canvas id = "canvas3"  width="50" height="50" style="border:1px solid black" onclick="canvasClicked(3)"></canvas>
	<br/>
	<canvas id = "canvas4"  width="50" height="50" style="border:1px solid black" onclick="canvasClicked(4)"></canvas>
	<canvas id = "canvas5"  width="50" height="50" style="border:1px solid black" onclick="canvasClicked(5)"></canvas>
	<canvas id = "canvas6"  width="50" height="50" style="border:1px solid black" onclick="canvasClicked(6)"></canvas>
	<br/>
	<canvas id = "canvas7"  width="50" height="50" style="border:1px solid black" onclick="canvasClicked(7)"></canvas>
	<canvas id = "canvas8"  width="50" height="50" style="border:1px solid black" onclick="canvasClicked(8)"></canvas>
	<canvas id = "canvas9"  width="50" height="50" style="border:1px solid black" onclick="canvasClicked(9)"></canvas>
	<br/>
</div>
<button type="button"  onclick="location.reload(true)">Restart</button>
</center>
</body>
</html>
